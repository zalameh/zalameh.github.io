<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Suckless Programs Guide</title>
<style>
:root {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  background-color: #dedede;
}

body {
  padding: 0;
  margin: 0;
}

.container {
  padding-top: 36px;
  margin-left: 5vw;
  margin-right: 5vw;
}

@media screen and (max-width: 480px) {
  .container {
    margin-left: 2vw;
    margin-right: 2vw;
  }
}

@media screen and (min-width: 800px) {
  :root {
    font-size: 20px;
  }
}

</style>
</head>
<body class="article">
<div id="header">
<h1>Suckless Programs Guide</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>in this guide we&#8217;re using <strong>dwm as an example</strong> for installation and configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dwm_installation">dwm installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_install_necessary_packages">Install necessary packages</h3>
<div class="literalblock">
<div class="content">
<pre># pacman -S xorg-server xorg-xinit xorg-xsetroot</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xinitrc"><code>xinitrc</code></h3>
<div class="literalblock">
<div class="content">
<pre>$ cp /etc/X11/xinit/xinitrc ~/.xinit</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Edit</strong> <code>.xinitrc</code>, delete the 5 bottom line and change with <code>exec dwm</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_dwm">Install dwm</h3>
<div class="literalblock">
<div class="content">
<pre>$ sudo pacman -S wget
$ wget https://dl.suckless.org/dwm/dwm-6.2.tar.gz
$ tar -xzvf dwm
$ cd dwm
$ sudo make clean install</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git clone https://git.suckless.org/dwm
$ cd dwm
$ make &amp;&amp; sudo make install || sudo make clean install</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">Configuration</h3>
<div class="literalblock">
<div class="content">
<pre>$ cd dwm
$ make clean &amp;&amp; rm -f config.h &amp;&amp; git reset --hard origin/master
$ git checkout -b config</pre>
</div>
</div>
<div class="paragraph">
<p>Change dwm <strong>configuration</strong> in <code>config.def.h</code> file, and keep it in <strong>config branch</strong>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git add .
$ git commit -m config
$ git checkout master
$ git merge config -m config
$ make &amp;&amp; sudo make install || sudo make clean install</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_patch_dwm">Patch dwm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download some <code>patch.diff</code> file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cd dwm
$ make clean &amp;&amp; rm -f config.h &amp;&amp; git reset --hard origin/master
$ git checkout -b patch
$ patch &lt; /path/to/patch.diff</pre>
</div>
</div>
<div class="paragraph">
<p>Resolve <strong>conlflict</strong> if there is.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git add .
$ git commit -m patch
$ git checkout master
$ git merge patch -m patch
$ make &amp;&amp; sudo make clean install</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dwmstatus">dwmstatus</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>$ git clone https://git.suckless.org/dwmstatus
$ cd dwmstatus
$ make
$ sudo make PREFIX=/usr clean install</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Add</strong> <code>dwmstatus 2&gt;&amp;1 &gt;/dev/null &amp;</code> to your <code>.xinitrc</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_xsetroot">xsetroot</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>while true; do
  SLEEP=30</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>DATE=$(/usr/bin/date +"%A, %B %d | %H:%M")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>BATTERY_STATUS=$(/usr/bin/cat /sys/class/power_supply/BAT0/status)
BATTERY_CAPACITY=$(/usr/bin/cat /sys/class/power_supply/BAT0/capacity)
BATTERY="$BATTERY_STATUS $BATTERY_CAPACITY"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>MEMORY_TOTAL=$(free -m | awk 'NR%2==0 {print $2}')
MEMORY_AVAIL=$(free -m | awk 'NR%2==0 {print $7}')
MEMORY=$(( $MEMORY_TOTAL - $MEMORY_AVAIL ))</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  xsetroot -name "$MEMORY Mb | $BATTERY % | $DATE | sleep $SLEEP | zqwirp"
  sleep $SLEEP
done &amp;</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-01-09 09:01:50 +0700
</div>
</div>
</body>
</html>